(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(44)},25:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),i=a(12),n=a.n(i),s=(a(25),a(13)),c=a(14),l=a(18),v=a(15),m=a(2),d=a(17),u=a(16),h=a.n(u),f=function(e){return o.a.createElement("div",{className:"search"},o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.handleFormSearch(t.target[0].value)},className:"searchForm"},o.a.createElement("input",{type:"text",placeholder:"Search...",className:"searchTerm"}),o.a.createElement("button",{className:"searchButton"},o.a.createElement("i",{className:"fa fa-search"}))))},F=function(e){var t=e.itemDetails,a=t.art,r=t.genre,i=t.id,n=t.trackName,s=t.url;return o.a.createElement("div",{className:"item",id:"track-name-".concat(i)},o.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{src:a,alt:"trackName"})),o.a.createElement("p",null,n),o.a.createElement("p",null,i),o.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},"view on iTunes Store"),o.a.createElement("p",null,r),o.a.createElement("button",{onClick:function(t){e.favorited?e.removeFromFavorites(e.itemDetails):e.addToFavorites(e.itemDetails)}},e.favorited?"Remove Favorite":"Favorite"))},g=function(e){var t=[];return e.categoryList&&e.categoryList.forEach(function(a){t.push(o.a.createElement(F,{key:"item-".concat(a.id),itemDetails:a,favorited:!!e.isFavorited(a.id),removeFromFavorites:e.removeFromFavorites,addToFavorites:e.addToFavorites}))}),o.a.createElement("div",null,o.a.createElement("div",{className:"categoryTitle"},o.a.createElement("h2",null,"Category: ",e.categoryName)),o.a.createElement("div",{className:"categoryContainer"},t))},E=function(e){var t;return e.favoritesList?(t=[],Object.values(e.favoritesList).forEach(function(a){t.push(o.a.createElement(F,{key:"item-".concat(a.id),itemDetails:a,favorited:!0,removeFromFavorites:e.removeFromFavorites}))})):t=o.a.createElement("p",null,"Favorites Empty"),o.a.createElement("div",null,o.a.createElement("h2",null,"Favorites"),o.a.createElement("div",{className:"categoryContainer"},t))},p=(a(43),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(v.a)(t).call(this))).state={results:null,searchTerm:"",favorites:null},e.handleFormSearch=e.handleFormSearch.bind(Object(m.a)(e)),e.addToFavorites=e.addToFavorites.bind(Object(m.a)(e)),e.removeFromFavorites=e.removeFromFavorites.bind(Object(m.a)(e)),e.isFavorited=e.isFavorited.bind(Object(m.a)(e)),e.checkFavorites=e.checkFavorites.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.localStorage.favorites&&this.setState({favorites:JSON.parse(window.localStorage.favorites)})}},{key:"handleFormSearch",value:function(e){var t=this;e.length>0&&h.a.get("http://localhost:8080/search?",{params:{term:e}}).then(function(e){var a=Object.entries(e.data);t.setState({results:a,fetched:!0})})}},{key:"addToFavorites",value:function(e){if(!window.localStorage.favorites){var t={};return t[e.id]=e,window.localStorage.setItem("favorites",JSON.stringify(t)),void this.setState({favorites:t})}var a=JSON.parse(window.localStorage.favorites);a[e.id]||(a[e.id]=e,window.localStorage.setItem("favorites",JSON.stringify(a)),this.setState({favorites:a}))}},{key:"removeFromFavorites",value:function(e){var t=JSON.parse(window.localStorage.favorites);delete t[e.id],window.localStorage.setItem("favorites",JSON.stringify(t)),this.setState({favorites:t})}},{key:"isFavorited",value:function(e){return!(!this.state.favorites||!this.state.favorites[e])}},{key:"checkFavorites",value:function(){return null!==this.state.favorites&&Object.keys(this.state.favorites).length>0}},{key:"render",value:function(){var e=this,t=[];return this.state.results&&this.state.results.forEach(function(a){t.push(o.a.createElement(g,{className:"category",key:"category-".concat(a[0]),categoryName:a[0],categoryList:a[1],addToFavorites:e.addToFavorites,removeFromFavorites:e.removeFromFavorites,isFavorited:e.isFavorited}))}),o.a.createElement("div",{className:"main"},o.a.createElement("h1",{onClick:function(){return window.location.reload()}},o.a.createElement("i",{className:"fa fa-apple"})," iTunes Light"),o.a.createElement(f,{handleFormSearch:this.handleFormSearch,handleInput:this.handleInput}),this.checkFavorites()&&o.a.createElement(E,{key:"favorites",className:"category",id:"favorites",favoritesList:this.state.favorites,removeFromFavorites:this.removeFromFavorites}),t)}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(o.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.2267e62b.chunk.js.map